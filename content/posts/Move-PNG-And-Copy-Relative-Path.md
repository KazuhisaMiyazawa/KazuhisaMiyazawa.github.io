+++
date = '2026-02-13T00:24:22+09:00'
draft = false
title = 'Move PNG and Copy Relative Path'
+++

# PNGをQuick Actionsで自動整理したら便利だった話

![](/figs/260213003058.png)

私は毎日の作業メモをマークダウンで残しています。作成したスクリーンショットのPNGをマークダウンに貼り付けるために、これまでは次のような手順を踏んでいました。

0. スクリーンショットを撮影する。デスクトップにPNGが作られる。

1. ターミナルを開く

2. 次のように、その瞬間の時刻を使って画像名を作成し、`figs`フォルダへ移動する。

   ```bash
   $ mv ~/Desktop/ScreenShot.png ~/SteadyProgress/figs/260213003058.png
   ```

3. 作業メモに「`![](/Users/kazuhisamiyazawa/Desktop/KazuhisaMiyazawa.github.io/content/posts/figs/260213003058.png)`」とタイプする

冷静に考えると、かなり非効率です。

Quick Actionsをうまく設定すれば、このターミナル操作が不要になり、さらに「`![](figs/260213003058.png)`」を手入力する必要もなくなりました。

---

### 作成したショートカット

↓のようなショートカットを作成しました。

![](/figs/260212014133.png)

設定の大まかな流れは以下の通りです。

0. **Quick Actionとして有効化:** 右パネル「i」マークをクリックし、「Use as Quick Action」と「Finder」にチェックをつけます。

   ![](/figs/260213005447.png)

1. **対象をファイルに限定:** クイックアクションの対象をファイルに限定します。
   ![](/figs/260213005653.png)

2. **現在時刻を取得:** `Date`アクションで「Current Date」を選択して現在時刻を取得します。

3. **日付をフォーマット:** 取得した日付を`yyMMddHHmmss`形式にフォーマットします。

4. **PNGをリネーム:**  `Shortcut Input`をフォーマットした日時 + `.png`にリネームします。

5. **figsフォルダへ移動:** リネームしたファイルを、マークダウンを配置しているフォルダ内の`figs`フォルダへ移動します。私の場合は`~/SteadyProgress/figs`です

6. **相対パスへ変換:** 絶対パス内の`/Users/kazuhisamiyazawa/SteadyProgress`を`.`に置換し、相対パスへ変換します。

7. **Markdown記法を生成してコピー:** 相対パスを使って`![](<relativepath>)`形式の文字列を生成し、クリップボードへコピーします。 



## 結果

デスクトップなどにあるPNGに対してこのクイックアクションを実行し、作業メモのマークダウンにカーソルを置いて `Command + V` を押すだけで、 画像を即座に貼り付けられるようになりました。

手作業を1つ減らすだけで、思考の流れが止まらなくなるのが嬉しいです。
